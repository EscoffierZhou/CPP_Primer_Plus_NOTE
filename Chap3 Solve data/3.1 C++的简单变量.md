# 3.1 C++的简单变量

## **1.变量名要求**

1.在名称中只能使用字母字符or数字or下划线

<font color=red>2.名称的第一个字符不能是数字</font>

<font color=red>3.严格区分大小写</font>

4.不能将关键字作为名词

(大写字母和下划线开头的保留给编译器使用)

## **2.整型**

整型就是没有小数部分的数字,不同的C++整型使用不同的内存量

## **3.`short` \ `int` \ `long` \ `long long`**  

`short`:至少16位(等价于`short int`)

`int`:至少和`short`一样长:

`long`:至少和`int`一样长,至少有32位(等价于`long int`)

`long long`:至少和`long`一样长,至少有64位(等价于`long long int`)

可以通过C++工具检查类型的长度:`sizeof`工具/头文件`climits`(限制位数)

```cpp
// 3.1 limits.cpp
#include<iostream>
#include<climits>
int main()
{
    using namespace std;
    int n_int = INT_MAX;	// 使用内置的INT_MAX限制int长度
    short n_short = SHRT_MAX	//使用内置的SHRT_MAX限制short长度
    long n_long = LONG_MAX  // 使用内置的LONG_MAX限制long长度
    long long n_llong = LLONG_MAX // long long限制
    
    // sizeof语法:对于类型名放入括号,对于变量名可选    
    // sizeof(int)正确,sizeof(n_short)和sizeof n_short都对
        
    cout << n_int << n_short << n_long << n_llong; //显示大小限制
    cout << sizeof(n_int) << sizeof(n_short); //显示字节大小限制
    
}
```

**1.`sizeof()`语法和`climits`**

>   语法部分在注释中有解释,对于类型名和变量名的限制不同
>
>   climits中还有其它的符号常量:
>
>   CHAR_BIT char的位数
>   CHAR_MAX char的最大值
>   CHAR_MIN char的最小值
>   SCHAR_MAX signed char的最大值
>   SCHAR_MIN signed char的最小值
>   UCHAR_MAX unsigned char的最大值
>   SHRT_MAX short的最大值
>   SHRT_MIN short的最小值
>   USHRT_MAX unsigned short的最大值
>   INT_MAX int的最大值
>   INT_MIN int的最小值
>   UNIT_MAX unsigned int的最大值                          LONG_MAX long的最大值
>   LONG_MIN long的最小值
>   ULONG_MAX unsigned long的最大值
>   LLONG_MAX long long的最大值
>   LLONG_MIN long long的最小值
>   ULLONG_MAX unsigned long long的最大值
>   
>   预处理编译指令`#define`:数值替换指令

**2.C++变量初始化(再)**

>   C的初始化方式:`int number = 123;`
>
>   C++初始化方式1:`int number(123);`
>
>   如果不对函数内部定义的变量进行初始化,**该变量的值是内存单元的值**
>   
>   最好不要先声明变量再赋值,而是直接初始化
>   
>   C++初始化方式2:`int number{123}`or`int number = {123}`
>   
>   如果设置`int number = {}`,则默认赋值为0

****

## **4.无符号类型`unsigned`**

无符号类型不能存储负数值的无符号变体

>   如果`short`表示:-32768到+32767
>
>   则`unsigned short`表示:0到65535`(|-32768|+|32767| = 65535)`
>
>   ```cpp
>   // 3.2 exceed.cpp
>   #include<iostream>
>   #define ZERO 0
>   #include<climits>
>   int main()
>   {
>      using namespace std;
>      short sam = SHRT_MAX;
>      unsigned short sue = sam; //初始化
>      cout << "Sam has" << sam << "dollars" << endl;
>      cout << "Sue has" << sue << "dollars" << endl;
>   
>      sam = sam + 1;
>      sue = sue + 1;
>      cout << "Sam has" << sam << "dollars" << endl;
>      cout << "Sue has" << sue << "dollars" << endl;
>   
>      sam = ZERO;
>      sue = ZERO;
>      cout << "Sam has" << sam << "dollars" << endl;
>      cout << "Sue has" << sue << "dollars" << endl;
>   
>      sam = sam - 1;
>      sue = sue - 1;
>      cout << "Sam has" << sam << "dollars" << endl;
>      cout << "Sue has" << sue << "dollars" << endl;
>   
>      return 0;
>   }
>   ```
>
>   **+1:`short`:32767 to -32768 `unsigned short`:32767->32768**
>
>   **设0后-1:`short`:0 to -1 `unsigned short`:0 to 65535**

****

## **5.选择整型类型**

1.根据系统选择:16位的系统上最好不要用32位的

2.根据大小选择:如果存储的值超过20亿,可以使用`long long`

3.根据需求选择:如果需要节选内存(大型数组中),可以使用`short`

4.特殊要求:如果只需要一个字节,可以使用`char`

****

## **6.整型字面值**

C++能用三种不同的计数方式书写整数:十进制/八进制/十六进制

>   十进制转八进制:十进制数除以8直到商为0,然后将余数倒序排列
>
>   十进制转十六进制:十进制数除以8直到商为0,然后将余数倒序排列
>
>   (对于10到15的余数使用A-F表示)

>   八进制转十进制:倒序按位,每一位乘以对应的8的幂次方,然后相加
>
>   八进制转十六进制:倒序按位,每一位乘以对应的16的幂次方,然后相加

**需要额外注意`int`的存放,如果需要保留只能上结构体**

```cpp
// 3.3 hexoct.cpp
#include<iostream>
#include<iomanip>
int main()
{
    using namespace std;
    int chest = 42;   // 10进制
    int waist = 0x42; // 16进制
    int inseam = 042; // 8进制
    // 注意在这里的时候就已经完成了十进制的转化了
    
    // cout默认是按照十进制进行输出的
    cout << chest << endl; // 42
    cout << waist << endl; // 66
    cout << inseam << endl; //34
    // 除非使用类和结构体保留原值
    /*
		enum class Base { DEC = 10, OCT = 8, HEX = 16 };
		struct NumberWithBase {
    		int value;     
    		Base original_base; 
		};
		 NumberWithBase chest  = {42,  Base::DEC}; 
    	 NumberWithBase waist  = {0x42, Base::HEX}; 
   	 	 NumberWithBase inseam = {042,  Base::OCT}; 
    */
}
```

****

## **7.C++如何确定常量类型**

C++对于整数的寸尺方式默认为int(除非有特殊后缀/值太大)

>特殊后缀:`22022L`:`long`(32位) `2202LU`:`unsigned long`(32位)
>
>大小: `int` -> `unsigned int long` -> `unsigned long` -> `long long`
>
>特殊进制:十六进制数`0x9C40`被转化为十进制`40000`所以使用`unsigned int`

****

## **8.char类型:字符和小整数**

**1.char的基本知识**

最常用的是ASCII码,除此之外还可以使用宽字符存储Unicode字符集(`wchar_t`)

char的大小是1个字节(8位,2^8^=256)

```cpp
// 3.5 chartype.cpp
#include<iostream>
int main()
{
	using namespace std;
    char ch;
    cin >> ch;
    cout << ch << endl;
    return 0;
}
```

**这里注意输出的是`ASCII码`对于的具体字符,而不是`ASCII码`**

**因为是`cin`将输入的字符转化为数值,`cout`将值转化为显示的字符**

>   这里又涉及到`<<`的重载,遇到`char`的时候会去找对应的字符

**C++中`char`使用 `''`表示,string使用`""`表示(两者有天壤之别)**

```cpp
// 3.6 morechar.cpp
// 由此可见cin和cout的联动会直接输出字符,需要额外的变量存ASCII码
#include<iostream>
int main()
{
    using namespace std;
    char ch = 'M'; // 这里存的其实是ASCII码
    // 'M' = 77 = 01001101
    int i = ch;
    cout << ch << "的ASCII码是" << i << endl;
	//一样的输出内容
	cout.put(ch);
	cout << "的ASCII码是" << i << endl;
    return 0;
}
```

**`char`和`int`的细微差距(虽然输出都是一样的)**

>当`char ch;cin >> ch;`时:即使输入数字,ch也会存储对应的ASCII码
>
>当`int ch;cin >> ch;`时:即使输入数字,ch会转化为数字,然后输出

****

**2.成员函数`cout.put()`**

```cpp
// 3.6 morechar.cpp
#include<iostream>
{
    char ch = 'M';
    cout.put(ch);
    cout.put('!')
    // 输出M!
    return 0;
}
```

`cout.put()`是成员函数(归于类所有,类定义了如何表示和控制数据)

>   类`ostream`中有一个`put()`成员函数用于输出字符
>
>   只能通过特定对象`cout`进行调用,`.`称为成员运算符

****

**3.`char`字面值**

>   **1.`char`的ASCII码**
>
>   书写字符常量字符的时候将字符号括起,比如'5',避免混淆
>
>   **2.`char`的转义编码**
>
>   |  字符名称  | C++代码 |
>   | :--------: | :-----: |
>   |   换行符   |   \n    |
>   | 水平制表符 |   \t    |
>   | 垂直制表符 |   \v    |
>   |    退格    |   \b    |
>   |    回车    |   \r    |
>   |   反斜杠   |    \    |
>   |    问号    |   \?    |
>   |   单引号   |   \\'   |
>   |   双引号   |   \\"   |
>
>   ```cpp
>   //3.7 bondni.cpp
>   #include<iostream>
>   int main()
>   {
>       using namespace std;
>       cout << "\aOperation \"HyperHyper\" is now activated!\n";
>       cout << "Enter your agent code:________\b\b\b\b\b\b\b\b";
>       long code;
>       cin >> code;
>       cout << "\aYou entered " << code << "...\n";
>       cout << "\aCode verified! Proceed with Plan 23! \n";
>       return 0;
>   }
>   ```
>
>   **4.通用字符名**
>
>   **(仅了解):可以通过`\u`来实现Unicode拓展字符(比如法语重音符号)**
>
>   **5.`signed char`和`unsigned char`**
>
>   char在默认情况下,**既不是有符号的,也不是没符号的(由C++决定)**,可自定义
>
>   ```cpp
>   char fodo; // 可能signed,可能unsigned
>   unsigned char bar; // unsigned
>   signed char shark; // signed
>   ```
>
>   **如果将char作为数值类型**
>
>   >   `unsigned char`:`0~255`
>   >
>   >   `signed char`:`-128~127`
>
>   **6.`wchar_t`长字节**
>
>   **出现目的:当需要处理的字符集无法用一个8位的字节表示(日语)**
>
>   >   解决方法1:如果是基本字符集->将char定义为一个16位的字节
>   >
>   >   解决方法2:使用`wchar_t`创建更多空间表示拓展字符集
>
>   **`wchar_t`不适用于`cin/cout`输入输出流,而是`wcin/wcout`**
>
>   `wchar_t`作为长字节支持两字节/四字节,但是一般不使用,仅做了解
>
>   ```cpp
>   #include <iostream> 
>   #include <string>   
>   #include <locale>   
>   
>   int main() {
>       // 1. 定义一个宽字符串字面量
>       // 注意 L 前缀，这表示 "こんにちは" 是由 wchar_t 字符组成的数组。
>       const wchar_t* hello_japanese = L"こんにちは、世界！"; // Konnichiwa, Sekai! (Hello, World!)
>   
>       // 2. 使用宽字符串类 std::wstring
>       std::wstring message = L"これはワイド文字列です。"; 
>   
>       // 3. 使用 std::wcout 进行输出
>       std::wcout << hello_japanese << std::endl;
>       std::wcout << message << std::endl;
>       
>       // wchar_t 在当前系统上的大小为4
>       std::wcout << sizeof(wchar_t) << L" bytes." << std::endl;
>       return 0;
>   }
>   ```
>
>   7.char16_t和char32_t(C++11)
>
>   **为了处理Unicode和`wchar_t`都不够的情况,两个都是无符号的**