# 4.11 Homework

## 1.总结

数组、结构和指针是C++的3种复合类型。

>   数组可以在一个数据对象中存储多个同种类型的值。
>
>   通过使用索引或下标，可以访问数组中各个元素。

结构可以将多个不同类型的值存储在同一个数据对象中，可以使用成员关系运算符（.）来访问其中的成员。

>   使用结构的第一步是创建结构模板，它定义结构存储了哪些成员。
>
>   模板的名称将成为新类型的标识符，然后就可以声明这种类型的结构变量。

共用体可以存储一个值，但是这个值可以是不同的类型，成员名指出了使用的模式。

指针是被设计用来存储地址的变量。

>   我们说，指针指向它存储的地址。指针声明指出了指针指向的对象的类型。
>
>   对指针应用解除引用运算符，将得到指针指向的位置中的值。

字符串是以空字符为结尾的一系列字符。

>   字符串可用引号括起的字符串常量表示，其中隐式包含了结尾的空字符。
>
>   可以将字符串存储在char数组中，可以用被初始化为指向字符串的char指针表示字符串。
>
>   函数`strlen( )`返回字符串的长度，其中不包括空字符。
>
>   函数`strcpy( )`将字符串从一个位置复制到另一个位置。
>
>   在使用这些函数时，应当包含头文件`cstring`或`string.h`。
>
>   头文件string支持的C++ string类提供了另一种对用户更友好的字符
>   串处理方法。具体地说，string对象将根据要存储的字符串自动调整其
>   大小，用户可以使用赋值运算符来复制字符串。

new运算符允许在程序运行时为数据对象请求内存。

>   该运算符返回获得内存的地址，可以将这个地址赋给一个指针，程序将只能使用该指针来访问这块内存。如果数据对象是简单变量，则可以使用解除引用运算符（*）来获得其值；如果数据对象是数组，则可以像使用数组名那样使用指针来访问元素；如果数据对象是结构，则可以用指针解除引用运算符（->）来访问其成员。

指针和数组紧密相关。

>   如果`ar`是数组名，则表达式`ar[i]`被解释为`*（ar + i）`，其中数组名被解释为数组第一个元素的地址。
>
>   这样，数组名的作用和指针相同。反过来，可以使用数组表示法，通过指针名来访
>   问`new`分配的数组中的元素。
>
>   运算符`new`和d`elete`允许显式控制何时给数据对象分配内存，何时将
>   内存归还给内存池。

自动变量是在函数中声明的变量，而静态变量是在函数外部或者使用关键字static声明的变量，这两种变量都不太灵活。自动变量在程序执行到其所属的代码块（通常是函数定义）时产生，在离开该代码块时终止。静态变量在整个程序周期内都存在。

C++98新增的标准模板库（STL）提供了模板类vector，它是动态数
组的替代品。C++11提供了模板类array，它是定长数组的替代品。

## 2. Homework

1．如何声明下述数据？

>   a．actor是由30个char组成的数组。
>
>   >   ```cpp
>   >   char actors[30];
>   >   ```
>
>   b．betsie是由100个short组成的数组。
>
>   >   ```cpp
>   >   short bestie[100];
>   >   ```
>
>   c．chuck是由13个float组成的数组。
>
>   >   ```cpp
>   >   float chunk[13];
>   >   ```
>
>   d．dipsea是由64个long double组成的数组。
>
>   >   ```cpp
>   >   long double dipsea[64];
>   >   ```

2．使用模板类array而不是数组来完成问题1。

>```cpp
>array<char,30>actors;
>array<short,100>bestie;
>array<float,13>chuckl
>array<long double,64>dipsea;
>```

3．声明一个包含5个元素的int数组，并将它初始化为前5个正奇数。

>   ```cpp
>   int oddly[5] = {1,3,5,7,9};
>   ```

4．编写一条语句，将问题3中数组第一个元素和最后一个元素的和赋给变量even。

>   ```cpp
>   int even = oddly[0] + oddly[4];
>   ```

5．编写一条语句，显示float数组ideas中的第2个元素的值。

>   ```cpp
>   cout << ideas[1] << endl;
>   ```

6．声明一个char的数组，并将其初始化为字符串“cheeseburger”。

>   ```cpp
>   char lunch[13] = "cheeseburger" // len + 1
>   ```

7．声明一个string对象，并将其初始化为字符串“Waldorf Salad”。

>   ```cpp
>   using namespace std;
>   string lunch = "Waldorf Salad";
>   ```

8．设计一个描述鱼的结构声明。结构中应当包括品种、重量（整数，单位为盎司）和长度（英寸，包括小数）。

>   ```cpp
>   struct fish{
>       char kind[20];
>       int weight;
>       float length;
>   }
>   ```

9．声明一个问题8中定义的结构的变量，并对它进行初始化。

>```cpp
>fish petes = 
>{
>	"trout",
>    12,
>    26.25
>};
>```

10．用enum定义一个名为Response的类型，它包含Yes、No和Maybe等枚举量，其中Yes的值为1，No为0，Maybe为2。

>   ```cpp
>   enum Response {No,Yes,Maybe};
>   ```

11．假设ted是一个double变量，请声明一个指向ted的指针，并使用该指针来显示ted的值。

>   ```cpp
>   double *pd = &ted;
>   cout << *pd << endl;
>   ```

12．假设treacle是一个包含10个元素的float数组，请声明一个指向treacle的第一个元素的指针，并使用该指针来显示数组的第一个元素和最后一个元素。

>   ```cpp
>   float *pf = treacle;
>   cout << pf[0] << pf[9] << endl;
>   ```

13．编写一段代码，要求用户输入一个正整数，然后创建一个动态的int数组，其中包含的元素数目等于用户输入的值。首先使用new来完成这项任务，再使用vector对象来完成这项任务。

>   ```cpp
>   unsigned int size;
>   cin >> size;
>   int *dyn = new int [size];
>   vector<int>dv(size;)
>   ```

14．下面的代码是否有效？如果有效，它将打印出什么结果？

>   ```cpp
>   cout << (int *) "Home of the jolly bytes"; 
>   // 有效,输出字符串的地址
>   ```

15．编写一段代码，给问题8中描述的结构动态分配内存，再读取该结构的成员的值。

>   ```cpp
>   struct fish
>   {
>       char kind[20];
>       int weight;
>       float length;
>   };
>   fish * pole = new fish;
>   cin >> pole->kind;
>   ```

16．程序清单4.6指出了混合输入数字和一行字符串时存储的问题。如果将下面的代码：

>```cpp
>cin.getline(address,80);
>```
>
>替换为：
>
>```cpp
>cin >> address;
>```
>
>将对程序的运行带来什么影响？
>
>**会跳过空白.跳过数字输入后的换行符,读取单词,而不是整行**

17．声明一个vector对象和一个array对象，它们都包含10个string对
象。指出所需的头文件，但不要使用using。使用const来指定要包含的
string对象数。

>```cpp
>#include<string>
>#include<vector>
>#include<array>
>const int Str_num{10};
>// 主要就是注意不同的参数位置
>std::vector<std::string>vstr(Str_num);
>std::array<std::string,Str_num>astr;
>```