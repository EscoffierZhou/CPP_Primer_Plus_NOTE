# 7.4 Function 2D-arrays

**注意数组名被视为其地址,因此相应的形参应该是指针,需要`const`避免修改**

```cpp
int data[3][4] = {{1,2,3,4},{9,8,7,6},{2,4,6,8}};
int total = sum(data,3);

// prototype

int sum(int(*ar2)[4] , int size);
// int(*ar2)[4]表示指向有4个int指针的数组的指针(二维数组)
// 而不是一个只有一个数组指针的指针(一维数组)

int sum(int ar2[][4], int size)
// 一种更友好的写法
```

```cpp
int a[100][40];
int b[6][4];

int total = sum(a,100);
int total = sum(b,6);
int total = sum(a,10);
int total = sum(a+10,20);

int sum(int ar2[][4],int size)
{
    int total = 0;
    for(int r = 0;r < size;r++)
        for(int c = 0;c < 4;c++)
            total += ar2[r][c];
    return total;
}
```

```cpp
// Initialize
ar2[r][c] == *(*(ar2 + r) + c)
// ar2      // 指针->数组的第一行
// ar2 + r  // 指针->数组的第r行
// *(ar2 + r) + c  // 具体数组的第r行(通过每行第1个元素)
// *(*(ar2 + r)) + c // 具体数组的一个元素 ar2[r][c]
```

