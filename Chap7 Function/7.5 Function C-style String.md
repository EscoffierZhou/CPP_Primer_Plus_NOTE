# 7.5 Function C-style String

首先C风格字符串是由一系列字符组成,以空值字符结尾

## 1.将C-风格字符串作为参数的函数

表示字符串的三种方式:`char数组`,`括号的字符串常量`,`char指针字符串`

>   (但是以上三种方法的类型都是`char*`)
>
>   ```cpp
>   char ghost[15] = "galloping";
>   char *str = "galloping";
>   
>   int n1 = strlen(ghost);     // 参数ghost即&ghost[0]
>   int n2 = strlen(str);		// 参数是一个指向char的指针
>   int n3 = strlen("galloping")// 参数是第一个字符串的地址
>   ```
>
>   C-风格和字符串`char数组`的主要区别:字符串内部存在内置结束字符
>
>   **所以一般使用循环检查的方式(直到最后的停止符)**
>
>   ```cpp
>   // 7.9 strgfun.cpp
>   #include<iostream>
>   unsigned int c_in_str(const char* str,char ch); //prototype
>   int main()
>   {
>       using namespace std;
>       char mmm[15] = "minimum";	// 在数组中的字符串
>       char *wail = "ululate";		// 指向字符串的指针
>       unsigned int ms = c_in_str(mmm,'m');
>       unsigned int us = c_in_str(wail,'u');
>       cout << ms << mmm << endl;
>       cout << us << wail << endl;
>   }
>   unsigned int c_in_str(const char* str,char ch)
>   {
>       unsigned int count = 0 ;
>       while(*str)
>       {
>           if(*str == ch)
>               count++;
>           str++;
>       }
>       return count;
>   }
>   ```
>
>   **使用`c_int_str()`函数不应该修改字符串,因此使用`const`**
>
>   综上处理字符串中的字符标准方法
>
>   ```cpp
>   while(*str) // *str表示的是具体的字符
>   {
>       statements;
>       str++;
>   }
>   ```

## 2.返回C风格字符串的函数

**函数只能返回字符串的地址,但是不能返回整个字符串**

```cpp
// 7.10 sttrgback.cpp
#include<iostream>
char* buildestr(char c,int n);
int main()
{
    using namespace std;
    int times;
    char ch;
    
    cin >> ch;
    cin >> times;
    char* ps = buildstr(ch,times);
    cout << ps << endl;
    
    delete[] ps; // delete[]和new[]是固定语法,堆内存分配,表示整个数组
    cout << ps << ps << endl;
    delete[] ps;
    return 0;
}
char* buildstr(char c,int n)
{
	char* pstr = new char[n+1];
    pstr[n] = '\0';
    while(n-- >0)
        pstr[n] = c;
    return  pstr;
}
```

