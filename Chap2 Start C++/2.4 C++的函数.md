# 2.4 C++的函数

## **0.函数简介**

这里主要讨论有返回值和无返回值的两种函数

函数的具体内容在Chap7和Chap8

## **1.有返回值的函数**

有返回值的函数将生成一个值,这个值可以在任意表达式/变量中使用

例如`sqrt()`的表达式中会进行`sqrt()`的**函数调用**

`()`中的值是传递给函数的值,也叫参数,比如`sqrt(4)`

**函数原型(prototype):指出涉及的函数中,值类型的限定**

>   比如`sqrt()`的原型:`double sqrt(double)`
>
>   所以调用的时候也应该是`double`数据类型
>
>   ```cpp
>   double x; 
>   x = sqrt(3.8);
>   ```

**函数原型和函数定义的区别:**

>   函数原型只描述函数接口,描述的是发送值和返回值
>
>   函数定义包含函数的具体代码

**函数原型的使用**

>   ```cpp
>   #include <iostream>
>   
>   // 函数原型,更方便维护
>   double calculate_area(double radius);
>   
>   int main() {
>   double r = 5.0;
>   // 在这里调用函数，因为前面有原型，编译器知道它是合法的
>   double area = calculate_area(r);
>   std::cout << "The area is: " << area << std::endl;
>   return 0;
>   }
>   
>   // 函数定义
>   double calculate_area(double radius) {
>   return 3.14159 * radius * radius;
>   }
>   ```
>
>   1.对于大项目更容易维护
>
>   2.对于编译器友好
>
>   **(能写尽写)**
>
>   **(如果函数定义在main之前就可以不用写原型)**
>
>   **(如果头文件中定义了原型,可以直接调用)**
>
>   **<font color=red>函数原型入口是参数列表,如果参数列表相同无法重载</font>**

```cpp
// 2.4 sqrt.cpp
#include <iostream>
#include <cmath> // old one:<math.h>
int main()
{
    using namespace std;
    double area;
    cout << "Enter the floor area , in squar feet , of your home";
    cin >> area;
    double side;
    side = sqrt(area);
    cout << "That's the equilvalent of a square" << side
         << " feet to the side" << endl;
    cout << "How fascinating!" << endl;
    return 0;
}
```

`typename variable-name`是变量声明的语法,先声明再赋值

`typename variable-name = expression`是变量初始化的语法,直接赋值

## **2.函数变体**

1.传入双参数的函数:`double pow(double,double)`计算底和对应的幂

2.不接受参数的函数:`int rand(void)`一般直接调用`guess  = rand()`

3.没有返回值的函数:`void print_num(double)`直接调用

**没有返回值的函数称作:过程(procedure)或子程序(subroutine)**

****

## **3.自定义函数**

>   ```cpp
>   // 2.5 ourfunc.cpp
>   #include <iostream>
>   void simon(int) //prototype
>   int main()
>   {
>      using namespace std;
>      simon(3);
>      cout << "Pick an integer: ";
>      int count;
>      cin >> count;
>      simon(count);
>      cout << "Done!" << endl;
>      return 0;
>   }
>   void simon(int n)
>   {
>      using namespace std;
>      cout << "Simon says touch your toes" << n << "times." << endl;
>   }
>   ```
>
>   **函数格式**
>
>   ```cpp
>   type functioname(argumentlist)
>   {
>      statements
>   }
>   ```
>
>   **函数头决定了如何调用该函数**
>
>   比如`void simon(int n)`不能通过`num = simon(3)`调用,无返回值

**有关`main()`函数**

>在`int main()`的时候设置了返回值为整型int,如何调用返回值?
>
>计算机操作系统看作调用程序,因此`main()`返回给操作系统(退出值)

## **4.用户定义的有返回值的函数**

>   ```cpp
>   // 2.6 convert.cpp
>   #include <iostream>
>   int stonetolib(int); //prototype
>   int main()
>   {
>      using namespaces std;
>      int stone;
>      cout << "Enter the weight in stone: ";
>      cin >> stone:
>      int pounds = stonetolib(stone);
>      cout << stone << " stone = ";
>      cout << pounds << " pounds." << endl;
>      return 0;
>   }
>   int stonetolib(int sts)
>   {
>      return 14 * sts;
>   }
>   ```

****

## **5.在多函数程序中使用using编译指令**

`using namespace std;`来访问位于名称空间std中的cout定义

位置:可以放在最前面作用于所有函数/只放在`main()`函数输出

using编译指令的几种形式:

>   1.作用于所有函数:`using namespace std`放在最前面
>
>   2.作用于特定函数:`using namespace std`放在函数前面
>
>   3.使用指定的元素:`using std::cout`
>
>   4.完全不使用using编译指令:`std::cout`